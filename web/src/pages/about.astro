---
import Base from "../layouts/Base.astro";
---

<Base title="About" description="How Aguara Observatory works: scanning methodology, scoring model, and monitored registries.">
  <div class="max-w-3xl">
    <h1 class="text-3xl font-bold text-white mb-2 tracking-tight">About Aguara Observatory</h1>
    <p class="text-gray-400 mb-10">How it works, scoring, and monitored registries.</p>

    <div class="space-y-10 text-gray-300 text-[15px] leading-relaxed">
      <section>
        <h2 class="text-lg font-semibold text-white mb-3">What is this?</h2>
        <p>
          Aguara Observatory scans every public AI agent skill registry and MCP server directory
          for security issues &mdash; every day, automatically.
        </p>
        <p class="mt-3">
          Crawlers discover skills from 5+ registries. Each is analyzed with
          <a href="https://github.com/garagon/aguara" class="text-aguara-400 hover:text-aguara-300 transition-colors">Aguara</a>,
          a security scanner built specifically for AI agent skills. All results are published as open data.
        </p>
      </section>

      <section>
        <h2 class="text-lg font-semibold text-white mb-3">How scanning works</h2>
        <p>
          Aguara uses static analysis to detect security issues: prompt injection, data exfiltration,
          credential leaks, supply chain attacks, SSRF, and more. It runs 138+ rules across 15 categories.
        </p>
        <p class="mt-3">
          Fully deterministic &mdash; no LLM, no cloud APIs. Same input always produces the same output.
        </p>
      </section>

      <section>
        <h2 class="text-lg font-semibold text-white mb-3">Scoring</h2>
        <p class="mb-3">Each skill starts at 100 points. Findings reduce the score:</p>
        <div class="bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden">
          <table class="w-full text-sm">
            <tbody class="divide-y divide-gray-800/50">
              <tr><td class="px-4 py-2.5 text-red-400 font-medium w-24">CRITICAL</td><td class="px-4 py-2.5 text-gray-400">-25 points</td></tr>
              <tr><td class="px-4 py-2.5 text-orange-400 font-medium">HIGH</td><td class="px-4 py-2.5 text-gray-400">-15 points</td></tr>
              <tr><td class="px-4 py-2.5 text-yellow-400 font-medium">MEDIUM</td><td class="px-4 py-2.5 text-gray-400">-8 points</td></tr>
              <tr><td class="px-4 py-2.5 text-blue-400 font-medium">LOW</td><td class="px-4 py-2.5 text-gray-400">Informational (no score impact)</td></tr>
            </tbody>
          </table>
        </div>
        <p class="mt-4 mb-3">The final score maps to a letter grade:</p>
        <div class="flex gap-3">
          {[
            { grade: "A", range: "90-100", color: "emerald", desc: "Minimal issues" },
            { grade: "B", range: "75-89", color: "green", desc: "Minor issues" },
            { grade: "C", range: "50-74", color: "yellow", desc: "Moderate" },
            { grade: "D", range: "25-49", color: "orange", desc: "Significant" },
            { grade: "F", range: "0-24", color: "red", desc: "Critical" },
          ].map(({ grade, range, color, desc }) => (
            <div class="flex-1 text-center bg-gray-900/50 border border-gray-800 rounded-xl p-3">
              <div class={`text-xl font-bold text-${color}-400`}>{grade}</div>
              <div class="text-xs text-gray-500 mt-0.5">{range}</div>
              <div class="text-[11px] text-gray-600 mt-0.5">{desc}</div>
            </div>
          ))}
        </div>
      </section>

      <section>
        <h2 class="text-lg font-semibold text-white mb-3">Monitored Registries</h2>
        <div class="bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden">
          {[
            { name: "skills.sh", url: "https://skills.sh", desc: "Community AI agent skills marketplace" },
            { name: "ClawHub", url: "https://clawhub.ai", desc: "AI agent skills registry" },
            { name: "PulseMCP", url: "https://www.pulsemcp.com", desc: "MCP server directory" },
            { name: "mcp.so", url: "https://mcp.so", desc: "MCP server discovery platform" },
            { name: "LobeHub", url: "https://lobehub.com", desc: "Plugin marketplace" },
          ].map((r, i) => (
            <div class={`flex items-center justify-between px-4 py-3 ${i > 0 ? "border-t border-gray-800/50" : ""}`}>
              <div>
                <a href={r.url} class="text-sm text-aguara-400 hover:text-aguara-300 transition-colors font-medium" target="_blank" rel="noopener noreferrer">{r.name}</a>
                <p class="text-xs text-gray-500 mt-0.5">{r.desc}</p>
              </div>
            </div>
          ))}
        </div>
      </section>

      <section>
        <h2 class="text-lg font-semibold text-white mb-3">Open Source</h2>
        <p>
          Everything is open source under the Apache-2.0 license.
        </p>
        <div class="flex gap-3 mt-3">
          <a href="https://github.com/garagon/aguara" class="flex-1 bg-gray-900/50 border border-gray-800 rounded-xl p-4 hover:border-aguara-500/40 transition-colors group" target="_blank" rel="noopener noreferrer">
            <div class="text-sm font-medium text-white group-hover:text-aguara-400 transition-colors">Aguara Scanner</div>
            <p class="text-xs text-gray-500 mt-0.5">Go binary, 138+ rules</p>
          </a>
          <a href="https://github.com/garagon/aguara-observatory" class="flex-1 bg-gray-900/50 border border-gray-800 rounded-xl p-4 hover:border-aguara-500/40 transition-colors group" target="_blank" rel="noopener noreferrer">
            <div class="text-sm font-medium text-white group-hover:text-aguara-400 transition-colors">Observatory Platform</div>
            <p class="text-xs text-gray-500 mt-0.5">Crawlers, aggregator, dashboard</p>
          </a>
        </div>
      </section>

      <section>
        <h2 class="text-lg font-semibold text-white mb-3">Limitations</h2>
        <ul class="space-y-2 text-gray-400 text-sm">
          <li class="flex items-start gap-2">
            <span class="text-gray-600 mt-0.5">&#8226;</span>
            Aguara uses static analysis only &mdash; it cannot detect runtime behavior
          </li>
          <li class="flex items-start gap-2">
            <span class="text-gray-600 mt-0.5">&#8226;</span>
            Findings may include false positives, especially for benign patterns that resemble threats
          </li>
          <li class="flex items-start gap-2">
            <span class="text-gray-600 mt-0.5">&#8226;</span>
            Not all skills in a registry may be crawlable (private repos, rate limits)
          </li>
          <li class="flex items-start gap-2">
            <span class="text-gray-600 mt-0.5">&#8226;</span>
            MCP server scanning is limited to README/manifest content
          </li>
        </ul>
      </section>
    </div>
  </div>
</Base>
